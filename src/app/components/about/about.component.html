<!-- Sección Sobre Mí -->
<section id="about" class="section">
  <div class="about-container">
    <!-- Loading y Error para About -->
    <div class="loading-error" *ngIf="loadingPersonal">
      <p>Cargando información personal...</p>
    </div>
    <div class="error-message" *ngIf="errorPersonal">
      <p>Falla al encontrar data</p>
    </div>

    <!-- Contenido Principal -->
    <div class="about-layout" *ngIf="!loadingPersonal && !errorPersonal && personalInfo">
      <!-- Perfil Principal (Izquierda) -->
      <div class="profile-main">
        <div class="profile-image">
          <ng-container *ngIf="profileImageLoaded; else profilePlaceholder">
            <img src="assets/img/profile.jpg" alt="Foto de perfil" class="profile-photo" (load)="onProfileImageLoad(true)" (error)="onProfileImageLoad(false)">
          </ng-container>
          <ng-template #profilePlaceholder>
            <div class="profile-placeholder">
              <span>{{ personalInfo.nombre.charAt(0) }}{{ personalInfo.apellidos.charAt(0) }}</span>
            </div>
          </ng-template>
        </div>
        <h1>{{ personalInfo.nombre }} {{ personalInfo.apellidos }}</h1>
        <h2>{{ personalInfo.titulo }}</h2>
        <p class="tagline">{{ personalInfo.bio }}</p>
        <div class="availability-badge" [class.available]="personalInfo.disponibilidad">
          <span>{{ personalInfo.disponibilidad ? 'Disponible' : 'No Disponible' }}</span>
        </div>
        
        <!-- Frase Motivacional -->
        <div class="motivational-quote">
          <blockquote>
            <p>"{{ personalInfo.fraseMotivacional }}"</p>
          </blockquote>
        </div>
      </div>

      <!-- Información Personal (Derecha) -->
      <div class="personal-details">
        <h3>Información Personal</h3>
        <div class="details-grid">
          <div class="detail-item">
            <span class="label">Email:</span>
            <a href="mailto:{{ personalInfo.email }}">{{ personalInfo.email }}</a>
          </div>
          <div class="detail-item">
            <span class="label">Ubicación:</span>
            <span>{{ personalInfo.ubicacion }}</span>
          </div>
          <div class="detail-item">
            <span class="label">Estado:</span>
            <span [class.available]="personalInfo.disponibilidad">
              {{ personalInfo.estado }}
            </span>
          </div>
        </div>
        
        <!-- Sección de Logros -->
        <div class="achievements-section">
          <h3>Logros Destacados</h3>
          <div class="achievements-list">
            <div class="achievement-item" *ngFor="let logro of personalInfo.logros">
              <div class="achievement-icon">🏆</div>
              <p>{{ logro }}</p>
            </div>
          </div>
        </div>
        
        <!-- Sección de Tecnologías Favoritas -->
        <div class="technologies-section">
          <h3>Tecnologías Favoritas</h3>
          <div class="technologies-grid">
            <span class="tech-badge" *ngFor="let tech of personalInfo.tecnologiasFavoritas">
              {{ tech }}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Sección Habilidades -->
<section id="skills" class="section">
  <div class="skills-container">
    <div class="skills-header">
      <h2>Habilidades Técnicas</h2>
      <p>Conocimientos y tecnologías que manejo en el desarrollo de software</p>
    </div>

    <!-- Loading y Error para Skills -->
    <div class="loading-error" *ngIf="loadingSkills">
      <p>Cargando habilidades...</p>
    </div>
    <div class="error-message" *ngIf="errorSkills">
      <p>Falla al encontrar data</p>
    </div>

    <div class="skills-grid" *ngIf="!loadingSkills && !errorSkills && habilidades.length > 0">
      <div class="skill-category" *ngFor="let categoria of getCategoriasUnicas()">
        <h3>{{ categoria }}</h3>
        <div class="skills-list">
          <div class="skill-item" *ngFor="let habilidad of getHabilidadesPorCategoria(categoria)">
            <div class="skill-header">
              <span class="skill-name">{{ habilidad.nombre }}</span>
              <span class="skill-level">{{ getNivelEstrellas(habilidad.nivel) }}</span>
            </div>
            <p class="skill-description">{{ habilidad.descripcion }}</p>
            <a *ngIf="habilidad.certificado" [href]="habilidad.certificado" target="_blank" class="certificate-link">
              Ver Certificado
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Sección Proyectos -->
<section id="projects" class="section">
  <div class="projects-container">
    <div class="projects-header">
      <h2>Proyectos</h2>
      <p>Algunos de los proyectos que he desarrollado</p>
    </div>

    <!-- Loading y Error para Projects -->
    <div class="loading-error" *ngIf="loadingProjects">
      <p>Cargando proyectos...</p>
    </div>
    <div class="error-message" *ngIf="errorProjects">
      <p>Falla al encontrar data</p>
    </div>

    <div class="projects-grid" *ngIf="!loadingProjects && !errorProjects && proyectos.length > 0">
      <div class="project-card" *ngFor="let proyecto of proyectos">
        <div class="project-image">
          <div class="project-logo-container" *ngIf="proyecto.imagen">
            <img [src]="proyecto.imagen" [alt]="proyecto.titulo" class="project-logo">
          </div>
          <div class="project-placeholder" *ngIf="!proyecto.imagen">
            <span>{{ proyecto.titulo.charAt(0) }}</span>
          </div>
        </div>
        
        <div class="project-content">
          <div class="project-header">
            <h3>{{ proyecto.titulo }}</h3>
            <span class="project-category">{{ proyecto.categoria }}</span>
          </div>
          
          <p class="project-description">{{ proyecto.descripcion }}</p>
          
          <div class="project-technologies">
            <span class="tech-tag" *ngFor="let tech of proyecto.tecnologias">{{ tech }}</span>
          </div>
          
          <div class="project-footer">
            <span class="project-date">{{ proyecto.fecha }}</span>
            <div class="project-links">
              <a *ngIf="proyecto.urlDemo" [href]="proyecto.urlDemo" target="_blank" class="project-link demo">
                Demo
              </a>
              <a *ngIf="proyecto.urlGitHub" [href]="proyecto.urlGitHub" target="_blank" class="project-link github">
                GitHub
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Sección Educación -->
<section id="education" class="section">
  <div class="education-container">
    <div class="education-header">
      <h2>Educación</h2>
      <p>Mi formación académica y desarrollo profesional continuo</p>
    </div>

    <!-- Loading y Error para Education -->
    <div class="loading-error" *ngIf="loadingEducation">
      <p>Cargando educación...</p>
    </div>
    <div class="error-message" *ngIf="errorEducation">
      <p>Falla al encontrar data</p>
    </div>

    <div class="education-timeline" *ngIf="!loadingEducation && !errorEducation && educacion.length > 0">
      <div class="education-section" *ngFor="let tipo of getTiposUnicos()">
        <h3>{{ getTipoDisplay(tipo) }}</h3>
        <div class="education-items">
          <div class="education-item" *ngFor="let edu of getEducacionPorTipo(tipo)">
            <div class="education-header-item">
              <h4>{{ edu.titulo }}</h4>
              <span class="institution">{{ edu.institucion }}</span>
            </div>
            <div class="education-dates">
              <span>{{ edu.fechaInicio }} - {{ edu.fechaFin || 'Presente' }}</span>
            </div>
            <p class="education-description">{{ edu.descripcion }}</p>
            <a *ngIf="edu.certificado" [href]="edu.certificado" target="_blank" class="certificate-link">
              Ver Certificado
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Sección Contacto -->
<section id="contact" class="section">
  <div class="contact-container">
    <div class="contact-header">
      <h2>Contacto</h2>
      <p>¿Tienes un proyecto en mente? ¡Hablemos!</p>
    </div>

    <!-- Loading y Error para Contact -->
    <div class="loading-error" *ngIf="loadingContact">
      <p>Cargando información de contacto...</p>
    </div>
    <div class="error-message" *ngIf="errorContact">
      <p>Falla al encontrar data</p>
    </div>

    <div class="contact-content" *ngIf="!loadingContact && !errorContact && contactInfo">
      <!-- Información de Contacto -->
      <div class="contact-info-section">
        <h3>Información de Contacto</h3>
        <div class="contact-details">
          <div class="contact-item">
            <span class="contact-label">Email:</span>
            <a href="mailto:{{ contactInfo.email }}">{{ contactInfo.email }}</a>
          </div>
          <div class="contact-item">
            <span class="contact-label">Teléfono:</span>
            <a href="tel:{{ contactInfo.telefono }}">{{ contactInfo.telefono }}</a>
          </div>
          <div class="contact-item">
            <span class="contact-label">Ubicación:</span>
            <span>{{ contactInfo.ubicacion }}</span>
          </div>
          <div class="contact-item">
            <span class="contact-label">Estado:</span>
            <span [class.available]="contactInfo.disponibilidad">
              {{ contactInfo.disponibilidad ? 'Disponible para proyectos' : 'No disponible actualmente' }}
            </span>
          </div>
        </div>
      </div>

      <!-- Redes Sociales -->
      <div class="social-section">
        <h3>Redes Sociales</h3>
        <div class="social-grid">
          <div class="social-item" *ngFor="let red of redesSociales">
            <a [href]="red.url" target="_blank" class="social-link" [style.background-color]="red.color">
              <span class="social-icon">{{ red.icono }}</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
